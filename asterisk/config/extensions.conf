; ===========================================
; Asterisk Extensions (Dialplan)
; AI Voice Calling Platform
; ===========================================

[general]
static=yes
writeprotect=no
clearglobalvars=no

[globals]
AI_BRAIN_HOST=YOUR_LOCAL_IP
AI_BRAIN_PORT=4000

; ===========================================
; Default Context (catch-all security)
; ===========================================
[default]
exten => _X.,1,NoOp(Unauthorized call attempt to ${EXTEN})
 same => n,Hangup()

; ===========================================
; Incoming from SIP App (Zoiper)
; ===========================================
[from-sipapp]
; Extension 100 - AI Agent
exten => 100,1,NoOp(=== AI Agent Call ===)
 same => n,Answer()
 same => n,Wait(0.5)
 same => n,Stasis(ai-voice-app)
 same => n,Hangup()

; Extension 600 - Echo Test
exten => 600,1,NoOp(Echo Test)
 same => n,Answer()
 same => n,Echo()

; Extension 1000 - Playback Test
exten => 1000,1,NoOp(Playback Test)
 same => n,Answer()
 same => n,Wait(0.5)
 same => n,Playback(hello-world)
 same => n,Hangup()

; ===========================================
; Internal Context (for AI Brain)
; ===========================================
[from-internal]
exten => _X.,1,NoOp(Internal call to ${EXTEN})
 same => n,Dial(PJSIP/${EXTEN},30)
 same => n,Hangup()

; ===========================================
; Outbound Calls (via SIP Trunk)
; ===========================================
[from-trunk]
exten => _X.,1,NoOp(Outbound call to ${EXTEN})
 same => n,Answer()
 same => n,Wait(0.5)
 same => n,Stasis(ai-voice-app)
 same => n,Hangup()
